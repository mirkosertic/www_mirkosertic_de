{"version":3,"sources":["../../src/loaders/textureParser.js"],"names":["textureParser","resource","next","data","isImage","baseTexture","core","BaseTexture","utils","getResolutionOfUrl","url","imageUrl","texture","Texture","BaseTextureCache","name","TextureCache"],"mappings":";;;;kBAEe,YACf;AACI,WAAO,SAASA,aAAT,CAAuBC,QAAvB,EAAiCC,IAAjC,EACP;AACI;AACA,YAAID,SAASE,IAAT,IAAiBF,SAASG,OAA9B,EACA;AACI,gBAAMC,cAAc,IAAIC,KAAKC,WAAT,CAAqBN,SAASE,IAA9B,EAAoC,IAApC,EAA0CG,KAAKE,KAAL,CAAWC,kBAAX,CAA8BR,SAASS,GAAvC,CAA1C,CAApB;;AAEAL,wBAAYM,QAAZ,GAAuBV,SAASS,GAAhC;AACAT,qBAASW,OAAT,GAAmB,IAAIN,KAAKO,OAAT,CAAiBR,WAAjB,CAAnB;;AAEA;AACAC,iBAAKE,KAAL,CAAWM,gBAAX,CAA4Bb,SAASc,IAArC,IAA6CV,WAA7C;AACAC,iBAAKE,KAAL,CAAWQ,YAAX,CAAwBf,SAASc,IAAjC,IAAyCd,SAASW,OAAlD;;AAEA;AACA,gBAAIX,SAASc,IAAT,KAAkBd,SAASS,GAA/B,EACA;AACIJ,qBAAKE,KAAL,CAAWM,gBAAX,CAA4Bb,SAASS,GAArC,IAA4CL,WAA5C;AACAC,qBAAKE,KAAL,CAAWQ,YAAX,CAAwBf,SAASS,GAAjC,IAAwCT,SAASW,OAAjD;AACH;AACJ;;AAEDV;AACH,KAvBD;AAwBH,C;;AA5BD;;IAAYI,I","file":"textureParser.js","sourcesContent":["import * as core from '../core';\n\nexport default function ()\n{\n    return function textureParser(resource, next)\n    {\n        // create a new texture if the data is an Image object\n        if (resource.data && resource.isImage)\n        {\n            const baseTexture = new core.BaseTexture(resource.data, null, core.utils.getResolutionOfUrl(resource.url));\n\n            baseTexture.imageUrl = resource.url;\n            resource.texture = new core.Texture(baseTexture);\n\n            // lets also add the frame to pixi's global cache for fromFrame and fromImage fucntions\n            core.utils.BaseTextureCache[resource.name] = baseTexture;\n            core.utils.TextureCache[resource.name] = resource.texture;\n\n            // also add references by url if they are different.\n            if (resource.name !== resource.url)\n            {\n                core.utils.BaseTextureCache[resource.url] = baseTexture;\n                core.utils.TextureCache[resource.url] = resource.texture;\n            }\n        }\n\n        next();\n    };\n}\n"]}