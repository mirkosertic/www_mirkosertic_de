<!DOCTYPE html><html lang="en" prefix="og: http://ogp.me/ns#"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>Swing Databinding with Mogwai DataBinding &middot; Mirko Sertic</title><meta name="description" content="While you are developing Java Swing based applications, you need a mechanism to bind Java objects to Swing widgets. Project mogwai.sourceforge.net provides a very simple but powerful framework called DataBinding to help you with this task. Here is an example."><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><meta name="robots" content="index,follow"><meta property="og:title" content="Swing Databinding with Mogwai DataBinding"><meta property="og:description" content="While you are developing Java Swing based applications, you need a mechanism to bind Java objects to Swing widgets. Project mogwai.sourceforge.net provides a very simple but powerful framework called DataBinding to help you with this task. Here is an example."><meta property="og:type" content="article"><meta property="og:url" content="https://www.mirkosertic.de/blog/2012/06/swing-databinding-with-mogwai-databinding/"><meta name="viewport" content="width=device-width,initial-scale=1"><link href="https://www.mirkosertic.de/css/site.css" rel="stylesheet" media="screen"><link rel="shortcut icon" type="image/x-icon" href="https://www.mirkosertic.de/favicon.ico"><link rel="apple-touch-icon" sizes="180x180" href="https://www.mirkosertic.de/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://www.mirkosertic.de/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://www.mirkosertic.de/favicon-16x16.png"><link rel="manifest" href="https://www.mirkosertic.de/manifest.json"><link rel="mask-icon" href="https://www.mirkosertic.de/safari-pinned-tab.svg" color="#5bbad5"><script src="https://polyfill.io/v2/polyfill.min.js?features=default,IntersectionObserver"></script><meta name="theme-color" content="#ffffff"><script>var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-33614060-2', 'auto');
	
	ga('send', 'pageview');
}</script><script async src="https://www.google-analytics.com/analytics.js"></script></head><body itemscope itemtype="http://schema.org/WebPage"><header><nav class="navbar navbar-expand-md navbar-dark fixed-top" itemscope itemtype="http://www.schema.org/SiteNavigationElement"><div class="container"><a class="navbar-brand" href="https://www.mirkosertic.de/">www.mirkosertic.de</a> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarCollapse"><ul class="navbar-nav mr-auto"><li class="nav-item"><a itemprop="url" class="nav-link" href="/global/toolsgoodies" title="Tools &amp; Goodies">Tools &amp; Goodies</a></li><li class="nav-item"><a itemprop="url" class="nav-link" href="/global/interestingbooks" title="Interesting Books">Interesting Books</a></li><li class="nav-item"><a itemprop="url" class="nav-link" href="/global/favorites" title="My favorite postings">My favorite postings</a></li><li class="nav-item"><a itemprop="url" class="nav-link active" href="/post/" title="Blog">Blog</a></li></ul></div></div></nav></header><main role="main"><div itemprop="mainEntity" itemscope itemtype="http://schema.org/BlogPosting"><header class="post-header"><h1 class="post-title" itemprop="name headline">Swing Databinding with Mogwai DataBinding</h1><p class="post-date"><span class="icon"><i class="fa fa-calendar-check-o-white"></i></span><time datetime="2012-06-27" itemprop="datePublished">Wed, Jun 27, 2012</time> <span>by</span> <span itemprop="author" itemscope="" itemtype="https://schema.org/Person"><span itemprop="name"><a href="https://twitter.com/mirkosertic" itemprop="url" rel="author">Mirko Sertic</a></span></span></p><p><span class="icon"><i class="fa fa-clock-white"></i></span><span>4 Minutes reading time</span></p><p class="post-tags"><span class="tag"><span class="icon"><i class="fa fa-tags-white"></i></span><a href="/tags/databinding">Databinding</a></span> ,&nbsp;<a href="/tags/swing">Swing</a></p></header><article class="post-content clearfix" itemprop="articleBody"><div class="paragraph"><p>While you are developing Java Swing based applications, you need a mechanism to bind Java objects to Swing widgets. Project <a href="http://mogwai.sourceforge.net/">mogwai.sourceforge.net</a> provides a very simple but powerful framework called DataBinding to help you with this task. Here is an example.</p></div><div class="paragraph"><p>Given the following piece of code(the model you want to bind):</p></div><div class="listingblock"><div class="content"><pre class="highlight"><code class="language-java" data-lang="java">import java.util.Collection;
import java.util.HashSet;

public class ExampleModel {

    private String string1;
    private String string2;
    private boolean bool;
    private String selected;
    private String type;
    private Collection&lt;String&gt; entries = new HashSet&lt;String&gt;();
    private String[] entriesArray = new String[0];

    public ExampleModel() {
        entries.add(&#34;A&#34;);
        entries.add(&#34;B&#34;);
        entries.add(&#34;C&#34;);

        entriesArray = new String[]{&#34;D&#34;, &#34;E&#34;, &#34;F&#34;};
    }

    public String getString1() {
        return string1;
    }

    public void setString1(String string1) {
        this.string1 = string1;
    }

    public boolean isBool() {
        return bool;
    }

     public void setBool(boolean bool) {
        this.bool = bool;
    }

    public String getSelected() {
        return selected;
    }


    public void setSelected(String selected) {
        this.selected = selected;
    }


    public String getString2() {
        return string2;
    }


    public void setString2(String string2) {
        this.string2 = string2;
    }


    public String getType() {
        return type;
    }


    public void setType(String type) {
        this.type = type;
    }


    public Collection&lt;String&gt; getEntries() {
        return entries;
    }


    public void setEntries(Collection&lt;String&gt; entries) {
        this.entries = entries;
    }


    public String[] getEntriesArray() {
        return entriesArray;
    }


    public void setEntriesArray(String[] entriesArray) {
        this.entriesArray = entriesArray;
    }
}</code></pre></div></div><div class="paragraph"><p>How we want to bind each of the properties to Swing widgets. Here is an example Swing UI with embedded DataBinding code:</p></div><div class="listingblock"><div class="content"><pre class="highlight"><code class="language-java" data-lang="java">import com.jgoodies.forms.layout.CellConstraints;
import com.jgoodies.forms.layout.FormLayout;
import de.mogwai.common.client.binding.adapter.ComboboxModelAdapter;
import de.mogwai.common.client.binding.adapter.RadioButtonAdapter;

import javax.swing.*;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.WindowAdapter;
import java.awt.event.WindowEvent;

/**
 * @author msertic
 */
public class DataBindingTest1 {

    public static void main(String args[]) {

        // Setup the view
        JFrame frame = new JFrame(&#34;Test&#34;);
        frame.addWindowListener(new WindowAdapter() {
            public void windowClosing(WindowEvent e) {
                System.exit(0);
            }
        });
        frame.setSize(640, 480);

        CellConstraints cons = new CellConstraints();

        FormLayout layout = new FormLayout(&#34;90dlu,80dlu:grow&#34;,
                &#34;2dlu,p,2dlu,p,2dlu,p,2dlu,p,2dlu,p,2dlu,p,p,p,2dlu&#34;);

        JPanel content = new JPanel();
        content.setLayout(layout);

        frame.getContentPane().setLayout(new BorderLayout());
        frame.getContentPane().add(content, BorderLayout.CENTER);

        JLabel label1 = new JLabel(&#34;JTextField with value&#34;);
        JTextField textfield1 = new JTextField();

        content.add(label1, cons.xy(1, 2));
        content.add(textfield1, cons.xy(2, 2));

        JLabel label2 = new JLabel(&#34;JTextField without value&#34;);
        JTextField textfield2 = new JTextField();

        content.add(label2, cons.xy(1, 4));
        content.add(textfield2, cons.xy(2, 4));

        JLabel label3 = new JLabel(&#34;JCheckBox&#34;);
        JCheckBox box3 = new JCheckBox();

        content.add(label3, cons.xy(1, 6));
        content.add(box3, cons.xy(2, 6));

        JLabel label4 = new JLabel(&#34;JComboBox bound to Vector&#34;);
        JComboBox combo1 = new JComboBox();

        content.add(label4, cons.xy(1, 8));
        content.add(combo1, cons.xy(2, 8));

        JLabel label5 = new JLabel(&#34;JComboBox bound to Object[]&#34;);
        JComboBox combo2 = new JComboBox();

        content.add(label5, cons.xy(1, 10));
        content.add(combo2, cons.xy(2, 10));

        JLabel label6 = new JLabel(&#34;JRadioButton&#34;);
        JRadioButton radio1 = new JRadioButton(&#34;Radio 1&#34;);
        JRadioButton radio2 = new JRadioButton(&#34;Radio 2&#34;);
        JRadioButton radio3 = new JRadioButton(&#34;Radio 3&#34;);

        content.add(label6, cons.xy(1, 12));
        content.add(radio1, cons.xy(2, 12));
        content.add(radio2, cons.xy(2, 13));
        content.add(radio3, cons.xy(2, 14));

        //
        //
        // Now, here comes the tricky part !
        //
        //

        // Setup the model
        ExampleModel model = new ExampleModel();
        model.setString1(&#34;Wutzpu&#34;);
        model.setBool(true);
        model.setSelected(&#34;2&#34;);

        // Setup the binding
        final BindingInfo binding = new BindingInfo(ExampleModel.class);
        binding.addBinding(&#34;string1&#34;, textfield1);
        binding.addBinding(&#34;string2&#34;, textfield2);
        binding.addBinding(&#34;bool&#34;, box3);
        binding.addBinding(&#34;type&#34;, combo1);
        binding.addBinding(&#34;entries&#34;, new ComboboxModelAdapter(combo1));
        binding.addBinding(&#34;entriesArray&#34;, new ComboboxModelAdapter(combo2));

        RadioButtonAdapter adaptor = new RadioButtonAdapter();
        adaptor.addMapping(&#34;1&#34;, radio1);
        adaptor.addMapping(&#34;2&#34;, radio2);
        adaptor.addMapping(&#34;3&#34;, radio3);
        binding.addBinding(&#34;selected&#34;, adaptor);

        binding.setDefaultModel(model);

        // Initialize the view !
        // This also forces the collection to model mapping to be initialized !
        binding.model2view();

        // Event listener
        JButton button = new JButton(&#34;View 2 Model&#34;);

        //
        // This is an example event listener !
        //
        button.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent e) {
                // Transfer the data to the model
                binding.view2model();

                // Get the model
                ExampleModel model = (ExampleModel) binding.getDefaultModel();

                // Modify the model
                String test = model.getType() + &#34; &#34; + model.getSelected();
                model.setString2(test);

                // Transfer the model to the view
                binding.model2view();
            }
        });
        frame.getContentPane().add(button, BorderLayout.NORTH);

        frame.show();
    }
}</code></pre></div></div><div class="paragraph"><p>This will generate a full functional Swing UI with bidirectional data binding between the model and the widgets. The tricky part is the initialization and usage of the Mogwai BindingInfo instance. The Initialization works as following:</p></div><div class="listingblock"><div class="content"><pre class="highlight"><code class="language-java" data-lang="java">final BindingInfo binding = new BindingInfo(ExampleModel.class);

binding.addBinding(&#34;string1&#34;, textfield1);
binding.addBinding(&#34;string2&#34;, textfield2);
binding.addBinding(&#34;bool&#34;, box3);
binding.addBinding(&#34;type&#34;, combo1);
binding.addBinding(&#34;entries&#34;, new ComboboxModelAdapter(combo1));
binding.addBinding(&#34;entriesArray&#34;, new ComboboxModelAdapter(combo2));

RadioButtonAdapter adaptor = new RadioButtonAdapter();
adaptor.addMapping(&#34;1&#34;, radio1);
adaptor.addMapping(&#34;2&#34;, radio2);
adaptor.addMapping(&#34;3&#34;, radio3);
binding.addBinding(&#34;selected&#34;, adaptor);


binding.setDefaultModel(model);</code></pre></div></div><div class="paragraph"><p>This creates a BindingInfo instance for a model of Type ExampleModel. The property “string1” is bound to the JTextField instance textfield1. The values of the array property “entriesArray” and the collection property “entries” are bound to the JComboBox instances combo1 and combo2. The property “selected” is bound to three RadioButtons, which are bundled to a group. If radio1 is selected, the value “1” is stored in the “selected” property of the model and so forth.</p></div><div class="paragraph"><p>The model is written to the UI with the following code:</p></div><div class="listingblock"><div class="content"><pre class="highlight"><code class="language-java" data-lang="java">// Initialize the view !
// This also forces the collection to model mapping to be initialized !
binding.model2view();</code></pre></div></div><div class="paragraph"><p>The state of the UI is written back to the model with the following code:</p></div><div class="listingblock"><div class="content"><pre class="highlight"><code class="language-java" data-lang="java">// Transfer the data to the model
binding.view2model();</code></pre></div></div><div class="paragraph"><p>Using Mogwai Databinding, you can easily create user interfaces, bind them to POJOs and automate the time consuming and error prone task of copying and converting Java properties.</p></div><div class="metainfo"><span>Next posting: <a href="https://www.mirkosertic.de/blog/2012/07/reusing-domain-objects-to-create-query-specifications/">Reusing domain objects to create query specifications</a>&gt;&gt;</span></div><p><i class="fa fa-github"></i>Git revision: <a href="https://github.com/mirkosertic/www_mirkosertic_de/commit/63a36b07236d1869ff91cec0ebccf5aa005e0057" target="_blank">63a36b0</a></p></article></div><div class="comments"><div id="disqus-placeholder">Loading comments...</div><div id="disqus_thread"></div><script>'use strict';
        window.addEventListener("load", function(event) {
            var disqusLoaded = false;
            var disqusObserver = new IntersectionObserver(function(entries, observer) {
                entries.forEach(function(entry) {
                    if (!disqusLoaded && entry.isIntersecting) {
                        console.log("Loading Disqus");
                        disqusLoaded = true;

                        document.getElementById('disqus-placeholder').remove();

                        
                        var script = document.createElement('script');
                        script.src = '//www-mirkosertic-de.disqus.com/embed.js';
                        script.async = true;
                        script.setAttribute('data-timestamp', +new Date());
                        script.addEventListener('load', function () {
                            
                            DISQUS.reset({reload: true, config: false});
                        });
                        (document.head || document.body).appendChild(script);
                    }
                });
            }, {
                root: null,
                rootMargin: "0px",
                threshold: [0]
            });
            disqusObserver.observe(document.querySelector(".comments"));
        }, false);</script></div></main><footer><p>&copy; Mirko Sertic &middot; <a href="https://www.mirkosertic.de/global/impressum/index.html">Imprint / Impressum</a></p><address><strong itemprop="name">Mirko Sertic</strong><div itemprop="address" itemscope itemtype="http://schema.org/PostalAddress"><div itemprop="streetAddress">Josefine-Mauser-Str. 66</div><div itemprop="postalCode">48157 Münster</div><div itemprop="addressCountry">Germany</div></div><a class="icon" target="_top" href="mailto:mirko@mirkosertic.de"><i class="fa fa-envelope-white"></i></a> <a class="icon" target="_blank" href="https://www.mirkosertic.de/index.xml" itemprop="url"><i class="fa fa-rss-white"></i></a> <a class="icon" target="_blank" href="https://www.xing.com/profile/Mirko_Sertic" itemprop="url"><i class="fa fa-xing-white"></i></a> <a class="icon" target="_blank" href="https://twitter.com/mirkosertic" itemprop="url"><i class="fa fa-twitter-white"></i></a> <a class="icon" target="_blank" href="https://github.com/mirkosertic" itemprop="url"><i class="fa fa-github-white"></i></a> <a class="icon" target="_blank" href="https://de.linkedin.com/in/mirko-sertic-98882397" itemprop="url"><i class="fa fa-linkedin-white"></i></a></address><p class="float-right"><a href="#">Back to top</a></p></footer><script src="https://www.mirkosertic.de/js/bootstrap-native-v4.min.js"></script><script>function existsByCSSSelector(aSelector) {
        var element = document.querySelector(aSelector);
        if (element) {
            return true;
        }
        return false;
    }

    var Loader = function () { };
    Loader.prototype = {
        require: function (scripts, callback) {
            this.loadCount = 0;
            this.totalRequired = scripts.length;
            this.callback = callback;

            for (var i=0;i<scripts.length;i++) {
                this.writeScript(scripts[i]);
            }
        },
        loaded: function (evt) {
            this.loadCount++;

            if (this.loadCount==this.totalRequired && typeof this.callback=='function') this.callback.call();
        },
        writeScript: function (src) {
            var self = this;
            var s = document.createElement('script');
            s.type = "text/javascript";
            s.async = true;
            s.src = src;
            s.addEventListener('load', function (e) { self.loaded(e); }, false);
            var head = document.getElementsByTagName('head')[0];
            head.appendChild(s);
        }
    };

    if (existsByCSSSelector("pre.highlight code") > 0) {
        var loader = new Loader();
        loader.require(["https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"], function() {

            var additionalStylesheet = document.createElement('link');
            additionalStylesheet.rel = "stylesheet";
            additionalStylesheet.type = 'text/css';
            additionalStylesheet.media = "screen";
            additionalStylesheet.href = "https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css";

            var head = document.getElementsByTagName('head')[0];
            head.appendChild(additionalStylesheet);

            hljs.highlightAll();
        });
    }</script></body></html>